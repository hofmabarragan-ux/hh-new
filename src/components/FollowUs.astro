---
type SocialKey = "instagram" | "tiktok" | "facebook" | "youtube" | "linkedin";

type Props = {
  lang: "da" | "en" | "es";
  className?: string;
};

const { lang, className = "" } = Astro.props;

/**
 * Reemplaza href con los enlaces reales cuando estén listos.
 */
const links: Array<{
  key: SocialKey;
  label: string;
  href: string;
}> = [
  { key: "instagram", label: "Instagram", href: "https://instagram.com/" },
  { key: "tiktok", label: "TikTok", href: "https://tiktok.com/" },
  { key: "facebook", label: "Facebook", href: "https://facebook.com/" },
  { key: "youtube", label: "YouTube", href: "https://youtube.com/" },
  { key: "linkedin", label: "LinkedIn", href: "https://linkedin.com/" },
];

const titleByLang = {
  da: "Følg os",
  en: "Follow us",
  es: "Síguenos",
} as const;

const subtitleByLang = {
  da: "Opdateringer, projekter og indsigt.",
  en: "Updates, projects, and insights.",
  es: "Actualizaciones, proyectos e ideas.",
} as const;

const iconTitle = (label: string) => `${label}`;

const icons: Record<SocialKey, string> = {
  instagram: `
    <svg viewBox="0 0 24 24" aria-hidden="true" focusable="false">
      <path fill="currentColor" d="M7.5 2h9A5.5 5.5 0 0 1 22 7.5v9A5.5 5.5 0 0 1 16.5 22h-9A5.5 5.5 0 0 1 2 16.5v-9A5.5 5.5 0 0 1 7.5 2Zm0 2A3.5 3.5 0 0 0 4 7.5v9A3.5 3.5 0 0 0 7.5 20h9a3.5 3.5 0 0 0 3.5-3.5v-9A3.5 3.5 0 0 0 16.5 4h-9Zm10.25 1.75a1 1 0 1 1 0 2a1 1 0 0 1 0-2ZM12 7a5 5 0 1 1 0 10a5 5 0 0 1 0-10Zm0 2a3 3 0 1 0 0 6a3 3 0 0 0 0-6Z"/>
    </svg>
  `,
  tiktok: `
    <svg viewBox="0 0 24 24" aria-hidden="true" focusable="false">
      <path fill="currentColor" d="M16 3c.6 2.6 2.3 4.4 5 4.8v2.7c-2-.1-3.8-.8-5-2v7.1c0 3.1-2.5 5.7-5.7 5.7S4.6 18.7 4.6 15.6c0-3.2 2.6-5.7 5.7-5.7c.4 0 .9 0 1.3.1v2.9c-.4-.2-.8-.3-1.3-.3c-1.5 0-2.8 1.2-2.8 2.8c0 1.5 1.2 2.8 2.8 2.8c1.6 0 2.9-1.2 2.9-2.9V3h2.8Z"/>
    </svg>
  `,
  facebook: `
    <svg viewBox="0 0 24 24" aria-hidden="true" focusable="false">
      <path fill="currentColor" d="M13.5 22v-8h2.7l.4-3H13.5V9.1c0-.9.2-1.5 1.5-1.5h1.7V5c-.3 0-1.4-.1-2.7-.1c-2.6 0-4.4 1.6-4.4 4.6V11H7v3h2.6v8h3.9Z"/>
    </svg>
  `,
  youtube: `
    <svg viewBox="0 0 24 24" aria-hidden="true" focusable="false">
      <path fill="currentColor" d="M21.6 7.2a3 3 0 0 0-2.1-2.1C17.7 4.6 12 4.6 12 4.6s-5.7 0-7.5.5A3 3 0 0 0 2.4 7.2 31 31 0 0 0 2 12a31 31 0 0 0 .4 4.8 3 3 0 0 0 2.1 2.1c1.8.5 7.5.5 7.5.5s5.7 0 7.5-.5a3 3 0 0 0 2.1-2.1A31 31 0 0 0 22 12a31 31 0 0 0-.4-4.8ZM10 15.5v-7l6 3.5-6 3.5Z"/>
    </svg>
  `,
  linkedin: `
    <svg viewBox="0 0 24 24" aria-hidden="true" focusable="false">
      <path fill="currentColor" d="M6.5 6.5A2.5 2.5 0 1 1 6.5 1.5a2.5 2.5 0 0 1 0 5ZM3.5 22V8h6v14h-6Zm8 0V8h5.7v1.9h.1c.8-1.4 2.3-2.4 4.3-2.4c4.6 0 5.4 3 5.4 6.9V22h-6v-6.5c0-1.6 0-3.7-2.3-3.7c-2.3 0-2.7 1.7-2.7 3.6V22h-6Z"/>
    </svg>
  `,
};
---

<section class={`hh-follow ${className}`.trim()}>
  <div class="container">
    <div class="hh-follow__inner">
      <div class="hh-follow__copy">
        <h2 class="hh-follow__title">{titleByLang[lang]}</h2>
        <p class="hh-follow__subtitle">{subtitleByLang[lang]}</p>
      </div>

      <nav class="hh-follow__links" aria-label={titleByLang[lang]}>
        {links.map((l) => (
          <a
            class="hh-follow__link"
            href={l.href}
            target="_blank"
            rel="noreferrer noopener"
            aria-label={iconTitle(l.label)}
            title={iconTitle(l.label)}
          >
            <span class="hh-follow__icon" set:html={icons[l.key]} />
            <span class="sr-only">{l.label}</span>
          </a>
        ))}
      </nav>
    </div>
  </div>
</section>

<style>
  .hh-follow {
    width: 100%;
  }

  .hh-follow__inner {
    display: grid;
    gap: 16px;
    align-items: start;
    justify-items: center; /* centra todo el bloque */
    text-align: center;
  }

  .hh-follow__title {
    margin: 0;
  }

  .hh-follow__subtitle {
    margin: 8px 0 0 0;
    opacity: 0.85;
    max-width: 60ch;
  }

  .hh-follow__links {
    display: flex;
    flex-wrap: wrap;
    gap: 12px;
    justify-content: center; /* centra iconos */
  }

  /* Botones solo-icono: más grandes */
  .hh-follow__link {
    display: inline-flex;
    align-items: center;
    justify-content: center;
    width: 54px;
    height: 54px;
    border-radius: 999px;
    border: 1px solid rgba(255, 255, 255, 0.16);
    text-decoration: none;
    line-height: 1;
    transition: transform 120ms ease, border-color 120ms ease, background 120ms ease;
    background: rgba(255, 255, 255, 0.03);
  }

  .hh-follow__link:hover {
    transform: translateY(-1px);
    border-color: rgba(255, 255, 255, 0.26);
    background: rgba(255, 255, 255, 0.07);
  }

  .hh-follow__icon :global(svg) {
    width: 24px;
    height: 24px;
    display: block;
  }

  /* Accesibilidad */
  .sr-only {
    position: absolute;
    width: 1px;
    height: 1px;
    padding: 0;
    margin: -1px;
    overflow: hidden;
    clip: rect(0, 0, 0, 0);
    white-space: nowrap;
    border: 0;
  }
</style>